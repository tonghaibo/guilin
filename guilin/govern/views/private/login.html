<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="icon" href="./favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
<title>游桂林网后台登录</title>
<meta name="robots" content="noindex,nofollow" />
<script type="text/javascript" src="./public/js/jquery.min.js"></script>
<style type="text/css">
body.loginform {
text-align: center;
padding-top:100px;
margin: 0.5em;
color: #666;
background: #fff;
font-family: arial,sans-serif;
}
h1 {
font-size: 14px;
font-weight:normal;
color:#329ECC;
height:60px;
}
body.loginform div.container {
text-align: left;
width: 30em;
margin: 0 auto;
}
form {
padding: 0;
margin: 0;
display: inline;
}
div.ok,div.error,div.info {
margin: 0.3em 0 0 0;
border: 1px solid;
background-repeat: no-repeat;
background-position: 10px 50%;
padding: 0.4em 0.4em 0.4em 36px;
font-size:12px;
background-color:#fff;
}
div.error {
border-color: red;
background-image: url(./public/images/admin/error.png);
}
div.ok{
border-color: green;
background-image: url(./public/images/admin/ok.png);
background-color:#fff;
}
div.info{
border-color: #D3DCE3;
background-image: url(./public/images/admin/info.png);
}
.error {
background-color: #FFf;
color: red;
}
fieldset {
margin-top: 1em;
border: #aaa solid 1px;
padding: 0.5em;
background:#eee;
text-shadow: 0 1px 0 white;
-moz-box-shadow: 1px 1px 2px #fff inset;
-webkit-box-shadow: 1px 1px 2px white inset;
box-shadow: 1px 1px 2px white inset;
border-radius: 4px 4px 0 0;
}
fieldset legend {
font-weight: bold;
color: #444;
padding: 5px 10px;
border-radius: 2px;
-moz-border-radius: 2px;
-webkit-border-radius: 2px;
border: 1px solid #AAA;
background-color: white;
-moz-box-shadow: 3px 3px 15px #bbb;
-webkit-box-shadow: 3px 3px 15px #BBB;
box-shadow: 3px 3px 15px #BBB;
font-size:12px;
}
label {
cursor: default;
font-size:14px;
font-weight:normal;
color:#666;
}
.item{
margin:6px 0px;
clear:both;
}
form.login label {
float: left;
width: 10em;
}
img, input, select, button {
vertical-align: middle;
}
input{
font-size: 1em;
background:#fff;
border:1px solid #ccc;
padding:2px;
}
fieldset.tblFooters {
margin-top: 0;
margin-bottom: 0.5em;
border-top: 0;
text-align: right;
float: none;
clear: both;
}
.tblFooters {
font-weight: normal;
background:#D3DCE3;
height:40px;
line-height:40px;
}
.btn{
margin-left: 14px;
border: 1px solid #AAA;
padding: 5px 7px;
color: #111;
text-decoration: none;
background: #DDD;
border-radius: 12px;
-webkit-border-radius: 12px;
-moz-border-radius: 12px;
text-shadow: 0 1px 0 white;
background-size: 100% 100%;
background: -webkit-gradient(linear, left top, left bottom, from(white), to(#CCC));
background: -webkit-linear-gradient(top, white, #CCC);
background: -moz-linear-gradient(top, white, #CCC);
background: -ms-linear-gradient(top, white, #CCC);
background: -o-linear-gradient(top, white, #CCC);
}
a.btn:hover{
color:#444;
}
a{
font-size:12px;
color: #329ECC;
text-decoration: none;
}
a:hover,a:focus,a:active {
color: #629Eff;
}
#num{
color:red;
}
</style>
</head>
<body class="loginform">
<div class="container" >
<h1>
<a href="mailto:yuexinok@126.com" target="_blank" ><img src="./public/images/admin/Ylogo.png" id="imLogo" name="imLogo" alt="youguilin" border="0" /></a>
</h1>
<div id="tips"><div class="info">欢迎登录本系统，请遵守<a href="http://www.gov.cn/flfg/index.htm">《中华人们共和国相关法律法规》</a></div></div>
<!-- Login form -->
<form method="post" action="#" id="login_form" autocomplete="off" target="_top" class="login">
    <fieldset>
    <legend><img src="./public/images/admin/info.png" />登录系统</legend>
        <div class="item">
            <label>用户名：</label>
            <input type="text" name="name" id="name" value="" size="24" class="textfield"/>
        </div>
        <div class="item">
            <label>密&nbsp;&nbsp;&nbsp;码：</label>
            <input type="password" name="password" id="password" value="" size="24" class="textfield" />
        </div>
		<div class="item">
            <label>验证码：</label>
            <input type="text" name="vcode" id="vcode" value="" size="5" class="textfield" /><img id="validatecode" onclick="changeVCode(1)" style="display:none" width="81" height="30" class="yz-img left" src="index_vcode.html?r=<?php mt_rand(1000,9999);  ?>"><a href="javascript:void(0)" onclick="changeVCode(1)">看不清?</a>
        </div>
     </fieldset>
    <fieldset class="tblFooters">
		<a href="mailto:yuexinok@126.com" style="float:left;">Y-Framework技术支持</a>
        <a href="javascript:void(0)" class="btn" onclick="sublogin()" />登录系统</a>
		<a href="index.html" target="_blank"><span id="num">30</span> 返回首页</a>
    </fieldset>
</form>

    </div>
<script type="text/javascript">
var conf = {
name:/^\S{2,20}$/,
pass:/^\S{6,20}$/,
vcode:/^\w{5}$/,
}
$('#name').focus(function(){
	$('#tips').html('<div class="info">请输入您的登入帐号。</div>');
});
$('#password').focus(function(){
	$('#tips').html('<div class="info">请输入您的登入密码。</div>');
});
$('#vcode').focus(function(){
	$('#validatecode').show();
	$('#tips').html('<div class="info">请输入图片上的文字。</div>');
});
function sublogin(){
	var tips = $('#tips');
	tips.html('');
	var name = $('#name').val();
	if(!conf.name.test(name)){
		tips.html('<div class="error">请输入正确的账号信息。</div>');
		return false;
	}
	var pass = $('#password').val();
	if(!conf.pass.test(pass)){
		tips.html('<div class="error">您输入的密码格式有误。</div>');
		return false;
	}
	var vcode = $('#vcode').val();
	if(!conf.vcode.test(vcode)){
		tips.html('<div class="error">验证码输入错误。</div>');
		return false;
	}
	document.getElementById('login_form').submit();
}
function changeVCode(type,imgId){
    if(typeof(imgId)=='undefined'){
        imgId = 'validatecode';
    }
    var imgObj = $('#'+imgId);
    var isF =imgObj.attr('iff');
    if((type==0 && isF!='1') || type==1){
        imgObj.attr('src','index_vcode.html?r=' + Math.round((Math.random()) * 100000000));
        $('#showCode').show();
        imgObj.show();
        if(isF!='1'){
            imgObj.attr('iff',"1");
        }
    }
}
var errornum = '<?php echo $error; ?>';
var tips = $('#tips');
switch(errornum){
	case '1':
		tips.html('<div class="error">提交的帐号不存在。</div>');
		break;
	case '2':
		tips.html('<div class="error">提交的帐号与密码不对。</div>');
		break;
	case '3':
		tips.html('<div class="error">提交的帐号已经被禁止登录。</div>');
		break;
	case '5':
		tips.html('<div class="error">验证码输入有误。</div>');
		break;
		
}
var seoc = document.getElementById('num');
var time = 30;
var tt = setInterval(function(){
	time--;
	seoc.innerHTML=time;
	if(time<=0){
		window.location='index.html';
		return;	
	}
},1000);
</script>
</body>
</html>